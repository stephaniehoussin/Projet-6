{% extends "base.html.twig" %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
          integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
          crossorigin=""/>
    <link rel="stylesheet" href="{{ asset('assets/css/style.css') }}">
    <style>
        #map {
            width: 100%;
            height: 250px;
            margin: 0;
            padding: 0;
        }
    </style>
{% endblock %}
{% block nav %}
    {% include 'landing/parts/navLanding.html.twig' %}
    {% include 'landing/parts/coverLanding.html.twig' %}
{% endblock %}
{% block body %}
<div class="container">
    <section id="landing-title">
        <div class="container wow fadeInUp">
            <div class="row">
                <div class="col-md-12">
                    <h3>Un spot c'est ça ! </h3>
                </div>
            </div>
        </div>
    </section>

    <section id="landing-spot-content">
        <div class="container">
            <div class="row">
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-spots">
                                <div class="row">
                                    <div class="col-md-6">
                                        <p><i class="fa fa-heart"> 12 </i></p>
                                    </div>
                                    <div class="col-md-6">
                                        <p><i class="fa fa-tree"> 10 </i></p>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div id="map"></div>
                                </div>
                                <p><i class="fa fa-thumb-tack"> Spot Foret</i></p>
                                <p><i class="fa fa-map-marker"> 3 allée du lac, Boulogne</i></p>
                                <button type="button"><i class="fa fa-heart"> Like me</i></button>
                                <button type="button"><i class="fa fa-tree"> Tree me</i></button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-spots">
                                <div class="row">
                                    <div class="col-md-6">
                                        <p><i class="fa fa-user"> Fanny</i></p>
                                    </div>
                                    <div class="col-md-6">
                                        <p><i class="fa fa-calendar"> 06/08/2018</i></p>
                                    </div>
                                </div>
                                <img class="card-img-top" src="{{ asset('uploads/spots/'~spot.picture) }}" alt="Card image cap">
                                <div class="card-body">
                                    <h5 class="card-spot-title">#{{ spot.id }} Super Spot au frais !</h5>
                                    <p class="card-spot-description">Endroit complètement isolé, très ombragé et vraiment calme! Lac pas loin !
                                        Vraiment top dépaysant</p>
                                    <button type="button">Enregistrer dans mes favoris</button>
                                </div>
                            </div>
                        </div>
                    </div>
                <div class="col-md-4">
                    <dl>
                        <dt class="title">Une carte</dt>
                            <dd>Pas de géolocalisation ? Pas grave, déplaces le curseur !</dd>
                        <dt class="title">Une photo du spot</dt>
                            <dd>Parce que avec une photo c'est mieux !</dd>
                        <dt class="title">Un Spoteur</dt>
                            <dd>Derrière tout spot un spoteur</dd>
                        <dt class="title">Une date</dt>
                            <dd>Parce que un spot à une date</dd>
                        <dt class="title">Un titre</dt>
                            <dd>Un titre parlant !</dd>
                        <dt class="title">Une description</dt>
                            <dd>Une description sympa du spot</dd>
                        <dt class="title">Une adresse</dt>
                            <dd>Pour préciser le lieu </dd>
                        <dt class="title">Une catégorie</dt>
                            <dd>Ca permet de filtrer !</dd>
                    </dl>
                </div>
            </div>
        </div>
    </section>
    <section id="landing-spot-content">
            <section id="landing-title">
                <div class="container wow fadeInUp">
                    <div class="row">
                        <div class="col-md-12">
                            <h3>Mais un spot , c'est aussi ça ! </h3>
                        </div>
                    </div>
                </div>
            </section>

            <div class="row">
                <div class="card col-md-3">
                   <!-- <img class="card-img-top" src="..." alt="Card image cap">-->
                    <div class="card-body">
                        <h5 class="card-title"> Un environnement </h5>
                        <p class="card-text"><i class="fa fa-tree"> Tree me</i></p>
                        <p class="card-text">La notion d'environnement à une place importante
                        dans cette aplication! Le but n'est pas de montrer du doigt un endroit
                        qui est sale mais vraiment d'éveiller la conscience de chacun sur l'importance
                        de préserver tous les lieux sur lesquels on passe un moment !</p>
                        <p class="card-text">Un clic sur le bouton <i class="fa fa-tree"> Tree me</i> et c'est un spot
                        qui sera notifié comme préservé!</p>
                        <p class="card-text">Si un spot a peu de <i class="fa fa-tree"> Tree me</i>, c'est un spot qu'il faudra
                         essayer de préserver davantage!</p>

                    </div>
                </div>
                <div class="card col-md-3">
                   <!-- <img class="card-img-top" src="..." alt="Card image cap">-->
                    <div class="card-body">
                        <h5 class="card-title"> Des J'aime ! </h5>
                        <p class="card-text"><i class="fa fa-heart"> Like me</i></p>
                        <p class="card-text">Un spot qui a des <i class="fa fa-heart"> Like me</i> est un spot qu'on aime!</p>
                        <p class="card-text">Parce qu'il est bien placé, parce qu'il est complètement dans la nature,
                        parce qu'il y a peu de monde , parce que on s'y sent tellement comme à la campagne ou
                            au bord de la mer ,</p>
                        <p class="card-text">mais aussi parce que c'est un spot préservé, propre , respecté !</p>
                    </div>
                </div>
                <div class="card col-md-3">
                   <!-- <img class="card-img-top" src="..." alt="Card image cap">-->
                    <div class="card-body">
                        <h5 class="card-title"> Des Favoris ! </h5>
                        <p class="card-text"><button type="button">Enregistrer dans mes favoris</button></p>
                        <p class="card-text">Tu aimes un Spot, tu l'enregistres dans tes favoris pour le retrouver plus
                        facilement </p>
                        <p class="card-text">Facile de le trouver : il est dans ton compte perso rubrique mes spots favoris ! </p>
                    </div>
                </div>
                <div class="card col-md-3">
                    <!-- <img class="card-img-top" src="..." alt="Card image cap">-->
                    <div class="card-body">
                        <h5 class="card-title"> Des Commentaires ! </h5>
                        <p class="card-text">Sympa de pouvoir échanger sur des spots !</p>
                        <p class="card-text">Tu es allé(e) sur un Spot et tu as envie de donner ton avis</p>
                        <p class="card-text">Tu as envie de poser une question? </p>
                        <p class="card-text">Ou alors tu as juste envie de parler avec le spoteur ! </p>
                    </div>
                </div>
            </div>
    </section>



    <section id="landing-title">
        <div class="container wow fadeInUp">
            <div class="row">
                <div class="col-md-12">
                    <h3>Comment ça marche? </h3>
                </div>
            </div>
        </div>
    </section>
    <section class="landing-how-content">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <div class="card">
                       <!-- <img class="card-img-top" src="" alt="Card image cap">-->
                        <div class="card-body">
                            <h5 class="card-title">Je Spote </h5>
                            <p class="card-text">Tu as trouvé le spot idéal et tu veux le partager avec les spoteurs</p>
                            <p class="card-text">Spoter ton super spot va te prendre 2 mn !</p>
                            <ul>
                                <li>Géolocalise toi ou bouge l'îcone pour qu'on sache où aller !</li>
                                <li>Prends une photo pour qu'on voit comme c'est beau  </li>
                                <li>Remplis le petit formulaire pour qu'on comprenne ton spot </li>
                                <li>Et valide le !</li>
                                <li>Il apparaîtra par la magie d'un spoteur Modo !</li>
                            </ul>
                        </div>
                        <div class="card-body">
                            <a class="btn btn-cover" href="{{ path('fos_user_registration_register') }}">Je veux Spoter !</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card">
                       <!-- <img class="card-img-top" src="" alt="Card image cap">-->
                        <div class="card-body">
                            <h5 class="card-title">Je cherche un spot</h5>
                            <p class="card-text">Tu as envie de découvrir de nouveaux endroits ?</p>
                            <p class="card-text">Ici tu vas trouver  en 2 mn et autour de toi !</p>

                        <ul>
                            <li>geolocalise toi ou bouge l'îcone pour te plâcer ou tu cherches</li>
                            <li>Les spots autour de toi apparaîssent</li>
                            <li>En cliquant sur les îcones, tu as quelques infos sur le spot</li>
                            <li>Tu peux filtrer par catégorie ou par spoteur</li>
                            <li>Si tu veux voir un spot en détails, ouvre le ! </li>
                        </ul>
                        </div>
                        <div class="card-body">
                            <a class="btn btn-cover" href="{{ path('fos_user_registration_register') }}">Je veux chercher !</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-------------------SECTION REJOIGNEZ NOUS------------------>
    <section id="landing-title">
        <div class="container wow fadeInUp">
            <div class="row">
                <div class="col-md-12">
                    <h3>Rejoignez nous ! </h3>
                </div>
            </div>
        </div>
    </section>
    <section class="landing-join-us-content">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                </div>
                <div class="col-md-6">

                </div>
            </div>
        </div>
    </section>

    <!-------------------SECTION ASSOCIATION-------------->

    <section id="subscribe">
        <div class="container wow fadeInUp">
            <div class="row">
                <div class="col-md-8">
                    <h3 class="subscribe-title">Recevoir la newsletter</h3>
                    <p class="subscribe-text">Tous les derniers spots postés et la vie d'une association !</p>
                </div>
                <div class="col-md-4 subscribe-btn-container">
                    <a class="subscribe-btn" href="#">M'inscrire</a>
                </div>
            </div>
        </div>
    </section>
    <!-------------------SECTION STATS------------------>
    <section id="landing-title">
        <div class="container wow fadeInUp">
            <div class="row">
                <div class="col-md-12">
                    <div id="locale"></div>
                </div>
            </div>
        </div>
    </section>

    <section class="landing-stats-content">
        <div class="row">
                <div class="card" style="width: 10rem;">
                        <div class="card-body">
                            <h5 class="card-text">Utilisateurs</h5>
                            <h5 class="card-text">{{ allResult.totalNbUsers }}</h5>
                        </div>
                </div>
                <div class="card" style="width: 10rem;">
                        <div class="card-body">
                            <h5 class="card-text">Spots</h5>
                            <h5 class="card-text">{{ allResult.totalNbSpots }}</h5>
                        </div>
                </div>
                <div class="card" style="width: 10rem;">
                        <div class="card-body">
                            <h5 class="card-text">J'aime</h5>
                            <h5 class="card-text">{{ allResult.totalNbLoves }}</h5>
                        </div>
                </div>

                <div class="card" style="width: 10rem;">
                        <div class="card-body">
                            <h5 class="card-text">Trees</h5>
                            <h5 class="card-text">{{ allResult.totalNbTrees }}</h5>
                        </div>
                </div>
                <div class="card" style="width: 10rem;">
                        <div class="card-body">
                            <h5 class="card-text">Commentaires</h5>
                            <h5 class="card-text">{{ allResult.totalNbComments }}</h5>
                        </div>
                </div>
                <div class="card" style="width: 10rem;">
                        <div class="card-body">
                            <h5 class="card-text">Favoris</h5>
                            <h5 class="card-text">{{ allResult.totalNbFavoris }}</h5>
                        </div>
                </div>
        </div>
    </section>


</div>
{% endblock %}
{% block footer %}
    {% include 'landing/parts/footerLanding.html.twig' %}
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('assets/js/time.js') }}"></script>
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>

    <!-- JAVASCRIPT FILES -->
    <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
<script>
    function initMap(position)
    {
        var map = L.map('map').setView([position.coords.latitude, position.coords.longitude],9);

        L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
            attribution: 'Données de la carte &copy; <a href="http://www.openstreetmap.org/#map=5/51.500/-0.100">Open Street Map</a>',
            maxZoom: 18,
            id: 'mapbox.streets',
            accessToken:'pk.eyJ1Ijoic3RlcGhhbmllaG91c3NpbiIsImEiOiJjamg1ejFrNDYxZnNyMnFsbmsxOXFoNmwxIn0.Cfc6uy_CpLtKoUjAKMQelg'
        }).addTo(map);

        var $element =
            [
                ["{{ spot.infosSupp }}", {{ spot.latitude }},{{ spot.longitude }}],

            ];

        for(var $i= 0; $i < $element.length; $i++)
        {
            var marker = new L.marker([$element[$i][1], $element[$i][2]])
                .bindPopup($element[$i][0])
                .addTo(map)
        }
    }
    if (navigator.geolocation)
        navigator.geolocation.getCurrentPosition(initMap);
</script>


{% endblock %}